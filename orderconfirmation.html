<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Get Balmy - Order Confirmation</title>
    <!-- css -->
    <link rel="stylesheet" href="./style/header.css">
    <link rel="stylesheet" href="./style/common.css">
    <link rel="stylesheet" href="./style/sidebar.css">
    <link rel="stylesheet" href="./style/orderconfirmation.css">
</head>

<body>
    <header class="header">
        <!-- large device -->
        <div class="container">
            <div class="three-dot" id="large-three-dot">
                <img src="./assets/images/menu.png" alt="">
            </div>
            <div class="second-logo" onclick="window.location.href='index.html'">
                <img src="./assets/images/second-logo.png" alt="">
            </div>
            <div class="cart" onclick="window.location.href='cart.html'">
                <img src="./assets/images/basket icon.png" alt="">
            </div>
        </div>
        <!-- mobile navbar -->
        <div class="mobile-navbar">
            <div class="left-side">
                <div class="second-logo" onclick="window.location.href='index.html'">
                    <img src="./assets/images/second-logo.png" alt="">
                </div>
            </div>

            <div class="right-side">
                <div class="cart" onclick="window.location.href='cart.html'">
                    <img src="./assets/images/basket icon.png" alt="">
                </div>
                <div class="three-dot" id="three-dot">
                    <img src="./assets/images/menu.png" alt="">
                </div>
            </div>
        </div>
    </header>
    <!-- mobile menu -->
    <div class="mobile-menu">
        <div class="menu-header">
            <div class="logo" onclick="window.location.href='index.html'">
                <img src="./assets/images/second-logo.png" alt="">
            </div>
            <div class="menu-icons">
                <div class="cart-icon" onclick="window.location.href='cart.html'">
                    <img src="./assets/images/basket icon.png" alt="">
                </div>
                <div class="close-icon" id="close-icon">
                    <img src="./assets/icon/cross.png" alt="">
                </div>
            </div>
        </div>

        <!-- Search Section -->
        <div class="search-section">
            <div class="search-container">
                <div class="search-icon"> <img src="./assets/icon/search.png" alt=""></div>
                <input type="text" class="search-input" placeholder="Search for bracelets">
            </div>
        </div>

        <!-- Navigation Menu -->
        <nav class="menu-navigation">
            <a href="#" class="nav-item">Shop Rings</a>
            <a href="#" class="nav-item">Shop Bracelets</a>
            <a href="#" class="nav-item">Shop Necklaces</a>
            <a href="#" class="nav-item">Shop Accessories</a>
        </nav>
    </div>
    <!-- Large Device large-sidebar -->
    <div class="large-sidebar-overlay" id="large-sidebar-overlay">
        <div class="large-sidebar" id="large-sidebar">
            <div class="large-sidebar-header">
                <div class="close-large-sidebar" id="close-large-sidebar">
                    <img src="./assets/icon/cross.png" alt="close">
                </div>
            </div>

            <div class="search-section">
                <div class="search-container">
                    <div class="search-icon">
                        <img src="./assets/icon/search.png" alt="">
                    </div>
                    <input type="text" class="search-input" placeholder="Search for bracelets">
                </div>
            </div>

            <div class="large-sidebar-menu">
                <a href="#" class="large-sidebar-item">Shop Rings</a>
                <a href="#" class="large-sidebar-item">Shop Bracelets</a>
                <a href="#" class="large-sidebar-item">Shop Necklaces</a>
                <a href="#" class="large-sidebar-item">Shop Accessories</a>
            </div>

            <div class="large-sidebar-footer">
                <div class="social-icons">
                    <img src="./assets/icon/instagram.png" alt="Instagram">
                    <img src="./assets/icon/message.png" alt="Email">
                </div>
            </div>
        </div>
    </div>

    <!-- main area -->
    <main>
        <section class="order">
            <div class="container">
                <h3>Thank You!</h3>
                <p>Order #XYS1234</p>
            </div>
        </section>

        <section class="order-summary-section">
            <div class="container">
                <div class="order-info-header">
                    <div class="order-details">
                        <h4>Order Details</h4>
                        <div class="order-meta">
                            <div class="meta-item">
                                <span class="label">Order Date:</span>
                                <span class="value" id="order-date">--</span>
                            </div>
                            <div class="meta-item">
                                <span class="label">Status:</span>
                                <span class="value status">Confirmed</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Order Items Table -->
                <div class="order-items-table">
                    <div class="table-header">
                        <div class="header-item">Item</div>
                        <div class="header-price">Price</div>
                        <div class="header-qty">Qty</div>
                        <div class="header-total">Total</div>
                    </div>
                    <div class="table-body" id="order-items-table">
                    </div>
                </div>

                <!-- Order Summary -->
                <div class="order-summary-footer">
                    <div class="summary-content">
                        <div class="summary-row">
                            <span>Subtotal:</span>
                            <span id="summary-subtotal">$0</span>
                        </div>
                        <div class="summary-row">
                            <span>Shipping:</span>
                            <span>FREE</span>
                        </div>
                        <div class="summary-row total-row">
                            <span>Total:</span>
                            <span id="summary-total">$0</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- footer -->

    <footer class="footer">
        <div class="container">
            <div class="footer-inner">
                <ul>
                    <li class="list-head">Links</li>
                    <li><a href="#">Contact Us</a></li>
                    <li><a href="#">About Us</a></li>
                    <li><a href="#">FAQs</a></li>
                    <li><a href="#">Terms and Conditions</a></li>
                </ul>
            </div>
        </div>
    </footer>

    <script src="script/common.js"></script>
    <script src="script/sidebar.js"></script>

    <script>
        let orderData = null;

        function loadOrderSummary() {
            orderData = JSON.parse(localStorage.getItem('lastOrder')) || null;

            if (!orderData) {
                window.location.href = 'index.html';
                return;
            }
            document.getElementById('order-date').textContent = new Date(orderData.orderDate).toLocaleDateString();

            renderOrderItemsTable();
            updateOrderSummaryTotals();
        }

        function renderOrderItemsTable() {
            const tableBody = document.getElementById('order-items-table');

            if (!orderData || orderData.items.length === 0) {
                tableBody.innerHTML = '<div class="empty-message">No order items found</div>';
                return;
            }

            tableBody.innerHTML = orderData.items.map(item => `
        <div class="order-item-row">
            <div class="item-info">
                <img src="${item.image}" alt="${item.name}" class="item-image">
                <div class="item-details">
                    <h5>${item.name}</h5>
                    <p class="item-color">${item.color.replace('-', ' ')}</p>
                </div>
            </div>
            <div class="item-price">$${item.price}</div>
            <div class="item-qty">${item.quantity}</div>
            <div class="item-total">$${item.price * item.quantity}</div>
            <div class="mobile-item-details">
                <span>Price: $${item.price}</span>
                <span>Qty: ${item.quantity}</span>
                <span>Total: $${item.price * item.quantity}</span>
            </div>
        </div>
    `).join('');
        }

        function updateOrderSummaryTotals() {
            if (!orderData) return;

            const subtotal = orderData.total;

            document.getElementById('summary-subtotal').textContent = `$${subtotal}`;
            document.getElementById('summary-total').textContent = `$${subtotal}`;
        }

        document.addEventListener('DOMContentLoaded', function () {
            loadOrderSummary();
        });
    </script>
    
</body>
</html>